<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tu Regalo</title>

<style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  background: #f3e7cf;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Georgia', serif;
  overflow: hidden;
  position: relative;
}

/* ===== REGALO ===== */
#giftBox {
  font-size: 15rem;
  cursor: pointer;
  animation: float 3s ease-in-out infinite;
  transition: transform 0.3s ease;
  user-select: none;
  z-index: 2;
  position: relative;
}

#giftBox:hover {
  transform: scale(1.1) rotate(5deg);
}

#giftBox:active {
  transform: scale(0.95);
}

@keyframes float {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  50% {
    transform: translateY(-20px) rotate(5deg);
  }
}

/* ===== MENSAJE OCULTO ===== */
#message {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  font-size: 3rem;
  font-weight: bold;
  color: #303030;
  opacity: 0;
  z-index: 3;
  text-align: center;
  white-space: nowrap;
}

#message.show {
  animation: messageAppear 1s ease forwards;
}

@keyframes messageAppear {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0) rotate(-180deg);
  }
  60% {
    transform: translate(-50%, -50%) scale(1.2) rotate(10deg);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
  }
}

/* ===== CANVAS PARA COHETES ===== */
#fireworks {
  position: fixed;
  inset: 0;
  z-index: 1;
  pointer-events: none;
}

/* ===== CONFETI ===== */
.confetti {
  position: fixed;
  width: 10px;
  height: 10px;
  background: #d4af37;
  z-index: 4;
  pointer-events: none;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 600px) {
  #giftBox {
    font-size: 10rem;
  }
  #message {
    font-size: 2.5rem;
    white-space: normal;
    max-width: 90%;
  }
}

@media (max-width: 400px) {
  #giftBox {
    font-size: 8rem;
  }
  #message {
    font-size: 2rem;
  }
}

#message p {
  font-size: 15px;
  font-weight: normal;
  margin-top: 1rem;
}
</style>
</head>
<body>

<canvas id="fireworks"></canvas>
<div id="giftBox">üéÅ</div>
<div id="message">¬°Feliz A√±o Nuevo 2026! <br><p>‚ÄúPon en manos del Se√±or todo lo que haces,
    y tus planes tendr√°n √©xito.‚Äù
    ‚Äî Proverbios 16:3 (TLA)</p></div>

<script>
const giftBox = document.getElementById('giftBox');
const message = document.getElementById('message');
const canvas = document.getElementById('fireworks');
const ctx = canvas.getContext('2d');

let w, h;
function resize() {
  w = canvas.width = window.innerWidth;
  h = canvas.height = window.innerHeight;
}
window.addEventListener('resize', resize);
resize();

let fireworks = [];
let particles = [];
let clicked = false;

// ===== CLASE COHETE =====
class Firework {
  constructor() {
    this.x = Math.random() * w;
    this.y = h;
    this.targetY = Math.random() * h * 0.4 + h * 0.1;
    this.speed = 3 + Math.random() * 2;
    this.color = `hsl(${Math.random() * 360}, 100%, 60%)`;
    this.exploded = false;
  }

  update() {
    if (!this.exploded) {
      this.y -= this.speed;
      if (this.y <= this.targetY) {
        this.explode();
        this.exploded = true;
      }
    }
  }

  draw() {
    if (!this.exploded) {
      ctx.fillStyle = this.color;
      ctx.beginPath();
      ctx.arc(this.x, this.y, 3, 0, Math.PI * 2);
      ctx.fill();
      
      // Estela
      ctx.fillStyle = this.color + '80';
      ctx.beginPath();
      ctx.arc(this.x, this.y + 10, 2, 0, Math.PI * 2);
      ctx.fill();
    }
  }

  explode() {
    const particleCount = 50 + Math.floor(Math.random() * 30);
    for (let i = 0; i < particleCount; i++) {
      particles.push(new Particle(this.x, this.y, this.color));
    }
  }
}

// ===== CLASE PART√çCULA =====
class Particle {
  constructor(x, y, color) {
    this.x = x;
    this.y = y;
    this.color = color;
    const angle = Math.random() * Math.PI * 2;
    const speed = Math.random() * 6 + 2;
    this.vx = Math.cos(angle) * speed;
    this.vy = Math.sin(angle) * speed;
    this.gravity = 0.15;
    this.friction = 0.98;
    this.alpha = 1;
    this.decay = Math.random() * 0.02 + 0.015;
    this.size = Math.random() * 3 + 2;
  }

  update() {
    this.vx *= this.friction;
    this.vy *= this.friction;
    this.vy += this.gravity;
    this.x += this.vx;
    this.y += this.vy;
    this.alpha -= this.decay;
  }

  draw() {
    ctx.save();
    ctx.globalAlpha = this.alpha;
    ctx.fillStyle = this.color;
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
    ctx.fill();
    ctx.restore();
  }
}

// ===== CREAR CONFETI =====
function createConfetti() {
  for (let i = 0; i < 150; i++) {
    setTimeout(() => {
      const confetti = document.createElement('div');
      confetti.className = 'confetti';
      
      const colors = ['#d4af37', '#f4d03f', '#ff6b6b', '#4ecdc4', '#45b7d1', '#f38181'];
      confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
      confetti.style.left = Math.random() * 100 + '%';
      confetti.style.top = '-10px';
      confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
      
      document.body.appendChild(confetti);
      
      const duration = Math.random() * 3 + 2;
      const endLeft = (parseFloat(confetti.style.left) + (Math.random() * 40 - 20)) + '%';
      
      confetti.animate([
        { top: '-10px', left: confetti.style.left },
        { top: '110vh', left: endLeft, transform: `rotate(${Math.random() * 720}deg)` }
      ], {
        duration: duration * 1000,
        easing: 'cubic-bezier(0.25, 0.46, 0.45, 0.94)'
      });
      
      setTimeout(() => confetti.remove(), duration * 1000);
    }, i * 10);
  }
}

// ===== ANIMACI√ìN =====
function animate() {
  ctx.fillStyle = 'rgba(243, 231, 207, 0.1)';
  ctx.fillRect(0, 0, w, h);
  
  // Actualizar y dibujar cohetes
  fireworks = fireworks.filter(fw => {
    fw.update();
    fw.draw();
    return !fw.exploded;
  });
  
  // Actualizar y dibujar part√≠culas
  particles = particles.filter(p => {
    p.update();
    p.draw();
    return p.alpha > 0;
  });
  
  // Crear nuevos cohetes si ya se hizo clic
  if (clicked && Math.random() < 0.08) {
    fireworks.push(new Firework());
  }
  
  requestAnimationFrame(animate);
}

// ===== EVENTO CLICK =====
giftBox.addEventListener('click', () => {
  if (clicked) return;
  clicked = true;
  
  // Ocultar regalo
  giftBox.style.animation = 'none';
  giftBox.style.transform = 'scale(0) rotate(180deg)';
  giftBox.style.opacity = '0';
  giftBox.style.transition = 'all 0.5s ease';
  
  // Mostrar mensaje
  setTimeout(() => {
    message.classList.add('show');
    createConfetti();
    
    // Lanzar cohetes iniciales
    for (let i = 0; i < 8; i++) {
      setTimeout(() => {
        fireworks.push(new Firework());
      }, i * 200);
    }
  }, 300);
});

animate();
</script>

</body>
</html>
